<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <button id="switchView" class="switch-button">üéµ Spotify</button>
    </div>
    <div class="date" id="current-date"></div>
    <div id="animation-container"></div>
    <div class="theme-selector">
        <button id="theme-toggle" class="theme-toggle-btn" title="Change Theme">üé®</button>
        <div id="theme-menu" class="theme-menu">
            <div class="theme-option" data-theme="default">
                <span class="theme-preview theme-gradient-blue"></span>
                <span class="theme-name">Snowy</span>
            </div>
            <div class="theme-option" data-theme="purple-bubbles">
                <span class="theme-preview theme-gradient-purple"></span>
                <span class="theme-name">Purple Bubbles</span>
            </div>
            <div class="theme-option" data-theme="sunset-sparkles">
                <span class="theme-preview theme-gradient-sunset"></span>
                <span class="theme-name">Sunset Sparkles</span>
            </div>
            <div class="theme-option" data-theme="valentine">
                <span class="theme-preview theme-gradient-valentine"></span>
                <span class="theme-name">Valentine</span>
            </div>
        </div>
    </div>
    
    <div id="moodQuoteSection">
        <div class="container">
    
            <div class="mood-section">
                <div class="mood-title"></div>
                <div class="mood-grid">
                    <button class="mood-button" data-mood="happy" title="Happy">üòä</button>
                    <button class="mood-button" data-mood="sad" title="Sad">üòî</button>
                    <button class="mood-button" data-mood="angry" title="Angry">üò°</button>
                    <button class="mood-button" data-mood="tired" title="Tired">üò©</button>
                    <button class="mood-button" data-mood="excited" title="Excited">ü§©</button>
                </div>
            </div>
            <div class="quote-box">
                <button class="favorite-btn" id="favorite-btn">‚ô°</button>
                <div class="loading-spinner"></div>
                <div id="quote-content">
                    <p class="quote-text" id="quote-text"></p>
                    <p class="quote-author" id="quote-author"></p>
                </div>
                <div id="shimmer-content" style="display: none;">
                    <div class="shimmer shimmer-text"></div>
                    <div class="shimmer shimmer-text"></div>
                    <div class="shimmer shimmer-author"></div>
                </div>
            </div>
            <div class="controls">
                <button class="refresh-btn" id="refresh-btn">Another quote</button>
                <button class="view-favorites-btn" id="view-favorites-btn">‚ô• Favorites</button>
            </div>
        </div>
    </div>

    <div id="spotifyWidget" class="hidden">
        <div class="spotify-tabs">
            <button class="tab-btn active" data-tab="tophits">Top Hits</button>
            <button class="tab-btn" data-tab="custom">My Playlist</button>
        </div>

        <div id="tophitsTab" class="tab-content active">
            <div id="spotifyLoader" class="spotify-loader">Loading...</div>
            <iframe id="spotifyPlayer" 
                style="opacity: 0; transition: opacity 0.3s;"
                width="100%" 
                height="380" 
                frameborder="0" 
                allowtransparency="true" 
                allow="encrypted-media">
            </iframe>
        </div>

        <div id="customTab" class="tab-content">
            <div id="customSpotifyLoader" class="spotify-loader"></div>
            <div class="custom-playlist-container">
                <div class="player-container">
                    <iframe id="customSpotifyPlayer" 
                        style="opacity: 0; transition: opacity 0.3s;"
                        width="100%" 
                        height="380" 
                        frameborder="0" 
                        allowtransparency="true" 
                        allow="encrypted-media">
                    </iframe>
                </div>
                <div class="spotify-controls">
                    <input type="text" 
                        id="playlistInput" 
                        placeholder="Enter Spotify playlist ID or URL"
                        class="playlist-input">
                    <button id="updatePlaylist" class="update-playlist-btn">Load Playlist</button>
                    <button id="removePlaylist" class="remove-playlist-btn" title="Remove playlist">
                        <span class="trash-icon">üóëÔ∏è</span>
                    </button>
                </div>
            </div>
        </div>

    </div>

     <!-- Modal for favorites -->
     <div id="favorites-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 style="margin: 0 0 15px 0; color: #2c3e50; font-size: 18px;">Favorite Quotes</h2>
            <div id="favorites-list"></div>
        </div>
    </div>

    <script src = "popup.js" type="module"></script>
</body>
</html>